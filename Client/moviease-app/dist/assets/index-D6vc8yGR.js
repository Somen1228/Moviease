import{u as m,r as d,j as e,F as a,I as l,B as u,L as i,a as x,s as t}from"./index-CBNzEsnu.js";function f(){const r=m();d.useEffect(()=>{localStorage.getItem("token")&&r("/home")},[r]);const n=async o=>{const s=await x(o);try{s.success?s.verificationRequired?(t.warning("Please verify your email to continue"),localStorage.setItem("emailForOtp",o.email),r("/verifyEmail")):(localStorage.setItem("token",s.token),r("/home")):(console.log(s),t.error(s.data.message))}catch(c){console.error("Login error:",c),t.error("An unexpected error occurred")}};return e.jsx("div",{children:e.jsx("header",{className:"App-header",children:e.jsxs("main",{className:"main-area max-w-md mx-auto text-center p-4",children:[e.jsx("section",{children:e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Login to MoviEase"})}),e.jsxs("section",{className:"right-section w-[400px]",children:[e.jsxs(a,{layout:"vertical",onFinish:n,className:"space-y-6",children:[e.jsx(a.Item,{label:"Email",name:"email",className:"text-left",rules:[{required:!0,message:"Email Id is required"}],children:e.jsx(l,{id:"email",type:"email",placeholder:"Enter your Email Id",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})}),e.jsx(a.Item,{label:"Password",name:"password",className:"text-left",rules:[{required:!0,message:"Password is required"}],children:e.jsx(l,{id:"password",type:"password",placeholder:"Enter your Password",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})}),e.jsx(a.Item,{className:"text-left",children:e.jsx(u,{type:"primary",htmlType:"submit",className:"w-full py-2 px-4 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Login"})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"text-sm",children:["New User?"," ",e.jsx(i,{to:"/register",className:"text-blue-600",children:"Register Here"})]}),e.jsxs("p",{className:"text-sm mt-1",children:[" ","Forget Password?"," ",e.jsx(i,{to:"/forget",className:"text-blue-600",children:"Click here"})]})]})]})]})})})}export{f as default};
