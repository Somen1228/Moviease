import{r as t,u as h,j as s,s as f}from"./index-8bvBX-Cq.js";import{g}from"./movies-DUw78Weh.js";import{h as n}from"./moment-C5S46NFB.js";import{S as v}from"./SearchBar-89_NVSzf.js";function N(){const[r,c]=t.useState(null),[a,x]=t.useState(null),[o,d]=t.useState(""),[m,p]=t.useState(!0),i=h(),u=async()=>{const e=await g();e.success?c(e.data):f.error(e.message),p(!1)};return t.useEffect(()=>{u()},[]),t.useEffect(()=>{if(r){const e=r.filter(l=>l.title.toLowerCase().includes(o.toLowerCase()));x(e)}},[o,r]),s.jsxs(s.Fragment,{children:[s.jsx(v,{value:o,onChange:e=>d(e.target.value)}),s.jsx("div",{className:"my-[60px] h-[100rem] px-4 pb-20 sm:px-6 md:px-8",children:s.jsx("div",{className:"flex flex-wrap gap-8 justify-center mt-8",children:m?Array(8).fill(0).map((e,l)=>s.jsxs("div",{className:"flex-col w-[140px] sm:w-[160px] md:w-[180px] lg:w-[200px] animate-pulse",children:[s.jsx("div",{className:"h-[210px] sm:h-[240px] md:h-[270px] lg:h-[300px] w-full bg-gray-300 rounded-2xl"}),s.jsx("div",{className:"h-[40px] mt-2 bg-gray-300 rounded-3xl"})]},l)):a&&a.length!==0?a.map(e=>s.jsxs("div",{className:"flex-col w-[140px] sm:w-[160px] md:w-[180px] lg:w-[200px]",children:[s.jsx("img",{className:"h-[210px] sm:h-[240px] md:h-[270px] lg:h-[300px] w-full transition-transform cursor-pointer rounded-2xl hover:scale-105 duration-300 ease-in-out",onClick:()=>{i(`/movie/${e._id}?date=${n().format("YYYY-MM-DD")}`)},src:e.poster,alt:"movie poster"}),s.jsx("h1",{className:"cursor-pointer move-up duration-200 transition-transform flex justify-center items-center mt-2 h-[40px] bg-stone-100 backdrop-blur bg-blur rounded-3xl font-bold text-[17px] text-blue-900",onClick:()=>{i(`/movie/${e._id}?date=${n().format("YYYY-MM-DD")}`)},children:e.title})]},e._id)):s.jsxs("div",{className:"flex flex-col items-center items-top h-screen text-xl font-bold text-gray-400 rounded-lg p-6",children:[s.jsx("div",{children:" Oops! No movies match your search."}),s.jsxs("div",{children:[" ","Maybe try a popcorn-worthy blockbuster or check your spelling? üçø"]})]})})})]})}export{N as default};
