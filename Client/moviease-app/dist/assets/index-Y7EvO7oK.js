import{j as s,r as t,u as f}from"./index-BItzXT4c.js";import{g as h}from"./movies-TrB_xY_z.js";import{h as x}from"./moment-C5S46NFB.js";import{s as g}from"./index-nvT5R7Lp.js";function w({value:a,onChange:r}){return s.jsx("div",{className:"w-full z-auto flex justify-center mt-32 px-4 md:px-8",children:s.jsx("input",{type:"text",placeholder:"Search for movies...",value:a,onChange:r,className:"w-full max-w-[500px] py-2 px-4 text-lg rounded-full bg-gray-100 focus:bg-white shadow-lg focus:shadow-xl transition-all duration-300 outline-none"})})}function N(){const[a,r]=t.useState(null),[i,c]=t.useState(null),[l,u]=t.useState(""),[d,m]=t.useState(!0),n=f(),p=async()=>{const e=await h();e.success?r(e.data):g.error(e.message),m(!1)};return t.useEffect(()=>{p()},[]),t.useEffect(()=>{if(a){const e=a.filter(o=>o.title.toLowerCase().includes(l.toLowerCase()));c(e)}},[l,a]),s.jsxs(s.Fragment,{children:[s.jsx(w,{value:l,onChange:e=>u(e.target.value)}),s.jsx("div",{className:"my-[60px] h-[100rem] px-4 pb-20 sm:px-6 md:px-8",children:s.jsx("div",{className:"flex flex-wrap gap-8 justify-center mt-8",children:d?Array(8).fill(0).map((e,o)=>s.jsxs("div",{className:"flex-col w-[140px] sm:w-[160px] md:w-[180px] lg:w-[200px] animate-pulse",children:[s.jsx("div",{className:"h-[210px] sm:h-[240px] md:h-[270px] lg:h-[300px] w-full bg-gray-300 rounded-2xl"}),s.jsx("div",{className:"h-[40px] mt-2 bg-gray-300 rounded-3xl"})]},o)):i&&i.map(e=>s.jsxs("div",{className:"flex-col w-[140px] sm:w-[160px] md:w-[180px] lg:w-[200px]",children:[s.jsx("img",{className:"h-[210px] sm:h-[240px] md:h-[270px] lg:h-[300px] w-full transition-transform cursor-pointer rounded-2xl hover:scale-105 duration-300 ease-in-out",onClick:()=>{n(`/movie/${e._id}?date=${x().format("YYYY-MM-DD")}`)},src:e.poster,alt:"movie poster"}),s.jsx("h1",{className:"cursor-pointer move-up duration-200 transition-transform flex justify-center items-center mt-2 h-[40px] bg-stone-100 backdrop-blur bg-blur rounded-3xl font-bold text-[17px] text-blue-900",onClick:()=>{n(`/movie/${e._id}?date=${x().format("YYYY-MM-DD")}`)},children:e.title})]},e._id))})})]})}export{N as default};
